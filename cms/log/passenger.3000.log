[ pid=23190 thr=70267363823840 file=utils.rb:176 time=2013-05-07 10:08:11.677 ]: *** Exception Errno::ENOENT in PhusionPassenger::Rack::ApplicationSpawner (No such file or directory - ./database.json) (process 23190, thread #<Thread:0x007fd0ca8521c0>):
	from /Users/tom/Develop/citysdk/api/cms/csdk_cms.rb:20:in `read'
	from /Users/tom/Develop/citysdk/api/cms/csdk_cms.rb:20:in `block in <top (required)>'
	from /Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:1356:in `configure'
	from /Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:1688:in `block (2 levels) in delegate'
	from /Users/tom/Develop/citysdk/api/cms/csdk_cms.rb:8:in `<top (required)>'
	from config.ru:6:in `require'
	from config.ru:6:in `block in <main>'
	from /Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
	from /Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
	from config.ru:1:in `new'
	from config.ru:1:in `<main>'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/rack/application_spawner.rb:225:in `eval'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/rack/application_spawner.rb:225:in `load_rack_app'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/rack/application_spawner.rb:157:in `block in initialize_server'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/utils.rb:563:in `report_app_init_status'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/rack/application_spawner.rb:154:in `initialize_server'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server.rb:204:in `start_synchronously'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server.rb:180:in `start'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/rack/application_spawner.rb:129:in `start'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/spawn_manager.rb:253:in `block (2 levels) in spawn_rack_application'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server_collection.rb:132:in `lookup_or_add'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/spawn_manager.rb:246:in `block in spawn_rack_application'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server_collection.rb:82:in `block in synchronize'
	from <internal:prelude>:10:in `synchronize'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/spawn_manager.rb:244:in `spawn_rack_application'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/spawn_manager.rb:137:in `spawn_application'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/spawn_manager.rb:275:in `handle_spawn_application'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
	from /Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/helper-scripts/passenger-spawn-server:99:in `<main>'
[ pid=23188 thr=0x103af8000 file=ext/nginx/HelperAgent.cpp:933 time=2013-05-07 10:08:11.796 ]: Uncaught exception in PassengerServer client thread:
   exception: write() failed: Broken pipe (32)
   backtrace:
     in 'void Client::handleRequest(Passenger::FileDescriptor&)' (HelperAgent.cpp:828)
     in 'void Client::threadMain()' (HelperAgent.cpp:952)

Webservice = false
{"prefix"=>"atcb", "name"=>"museums", "organization"=>"Waag Society", "catprefix"=>"cultural", "category"=>"museums", "description"=>"Blah", "data_sources_x"=>"", "update_rate"=>"3600", "wsurl"=>"", "prefixc"=>"<select name='prefix'> <option>cbs</option><option>oens</option><option>atcb</option></select>"}
{"prefix"=>"311", "name"=>"helsinki", "organization"=>"Waag Society", "catprefix"=>"civic", "category"=>"service_requests", "description"=>"Sr", "data_sources_x"=>"", "update_rate"=>"3600", "wsurl"=>"", "prefixc"=>"<select name='prefix'> <option>cbs</option><option>oens</option><option>atcb</option><option>311</option></select>"}
2013/05/27 22:04:52 [crit] 8692#0: *223 connect() to unix:/passenger_helper_server failed (2: No such file or directory) while connecting to upstream, client: 127.0.0.1, server: _, request: "GET /layer/18/data HTTP/1.1", upstream: "passenger:unix:/passenger_helper_server:", host: "localhost:3000", referrer: "http://localhost:3000/"
2013/05/27 22:04:52 [crit] 8692#0: *225 connect() to unix:/passenger_helper_server failed (2: No such file or directory) while connecting to upstream, client: 127.0.0.1, server: _, request: "GET /layer/3/data HTTP/1.1", upstream: "passenger:unix:/passenger_helper_server:", host: "localhost:3000", referrer: "http://localhost:3000/"
2013/05/27 22:04:52 [crit] 8692#0: *221 connect() to unix:/passenger_helper_server failed (2: No such file or directory) while connecting to upstream, client: 127.0.0.1, server: _, request: "GET /nodes?layer= HTTP/1.1", upstream: "passenger:unix:/passenger_helper_server:", host: "localhost:3000"
2013/05/27 22:04:52 [crit] 8692#0: *222 connect() to unix:/passenger_helper_server failed (2: No such file or directory) while connecting to upstream, client: 127.0.0.1, server: _, request: "GET /w57862302/select/now HTTP/1.1", upstream: "passenger:unix:/passenger_helper_server:", host: "localhost:3000"
2013/05/27 22:04:52 [crit] 8692#0: *224 connect() to unix:/passenger_helper_server failed (2: No such file or directory) while connecting to upstream, client: 127.0.0.1, server: _, request: "GET /admr.nl.nieuwmarkt/ptstops HTTP/1.1", upstream: "passenger:unix:/passenger_helper_server:", host: "localhost:3000"
2013/05/27 22:04:52 [crit] 8692#0: *220 connect() to unix:/passenger_helper_server failed (2: No such file or directory) while connecting to upstream, client: 127.0.0.1, server: _, request: "GET / HTTP/1.1", upstream: "passenger:unix:/passenger_helper_server:", host: "localhost:3000"
2013/05/27 22:05:03 [crit] 8692#0: *232 connect() to unix:/passenger_helper_server failed (2: No such file or directory) while connecting to upstream, client: 127.0.0.1, server: _, request: "GET /admr.nl.deventer/nodes?layer=rain&geom&per_page=100 HTTP/1.1", upstream: "passenger:unix:/passenger_helper_server:", host: "localhost:3000", referrer: "http://dev.citysdk.waag.org/map.html"
2013/05/27 22:05:03 [crit] 8692#0: *221 connect() to unix:/passenger_helper_server failed (2: No such file or directory) while connecting to upstream, client: 127.0.0.1, server: _, request: "GET /admr.nl.amsterdam/ptstops?geom&per_page=100 HTTP/1.1", upstream: "passenger:unix:/passenger_helper_server:", host: "localhost:3000"
2013/05/27 22:05:55 [crit] 8692#0: *236 connect() to unix:/passenger_helper_server failed (2: No such file or directory) while connecting to upstream, client: 127.0.0.1, server: _, request: "GET / HTTP/1.1", upstream: "passenger:unix:/passenger_helper_server:", host: "localhost:3000"
2013/05/27 22:05:57 [crit] 8692#0: *236 connect() to unix:/passenger_helper_server failed (2: No such file or directory) while connecting to upstream, client: 127.0.0.1, server: _, request: "GET / HTTP/1.1", upstream: "passenger:unix:/passenger_helper_server:", host: "localhost:3000"
{"name"=>"artsholland", "organization"=>"Waag Society", "catprefix"=>"cultural", "category"=>"events", "description"=>"Plop", "data_sources_x"=>"", "prefixc"=>""}
JSON::ParserError - 743: unexpected token at '<!DOCTYPE html>
<html>
<head>
  <style type="text/css">
  body { text-align:center;font-family:helvetica,arial;font-size:22px;
    color:#888;margin:20px}
  #c {margin:0 auto;width:500px;text-align:left}
  </style>
</head>
<body>
  <h2>Sinatra doesn&rsquo;t know this ditty.</h2>
  <img src='http://localhost:3000/__sinatra__/404.png'>
  <div id="c">
    Try this:
    <pre>get '/layers/reload__' do
  "Hello World"
end</pre>
  </div>
</body>
</html>
':
	/Users/tom/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/json/common.rb:148:in `parse'
	/Users/tom/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/json/common.rb:148:in `parse'
	/Users/tom/Develop/citysdk/api/cms/utils/citysdk_api.rb:146:in `get'
	/Users/tom/Develop/citysdk/api/cms/csdk_cms.rb:325:in `block in <class:CSDK_CMS>'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:1293:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:1293:in `block in compile!'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:860:in `[]'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:860:in `block (3 levels) in route!'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:876:in `route_eval'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:860:in `block (2 levels) in route!'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:897:in `block in process_route'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:895:in `catch'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:895:in `process_route'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:859:in `block in route!'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:858:in `each'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:858:in `route!'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:963:in `block in dispatch!'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:946:in `block in invoke'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:946:in `catch'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:946:in `invoke'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:960:in `dispatch!'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:794:in `block in call!'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:946:in `block in invoke'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:946:in `catch'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:946:in `invoke'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:794:in `call!'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:780:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-protection-1.3.2/lib/rack/protection/xss_header.rb:27:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-protection-1.3.2/lib/rack/protection/path_traversal.rb:16:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-protection-1.3.2/lib/rack/protection/json_csrf.rb:17:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-protection-1.3.2/lib/rack/protection/base.rb:48:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-protection-1.3.2/lib/rack/protection/base.rb:48:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-protection-1.3.2/lib/rack/protection/xss_header.rb:27:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-1.5.2/lib/rack/nulllogger.rb:9:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/showexceptions.rb:21:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:124:in `call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:1417:in `block in call'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:1499:in `synchronize'
	/Users/tom/.rvm/gems/ruby-1.9.3-p362/gems/sinatra-1.3.5/lib/sinatra/base.rb:1417:in `call'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/rack/request_handler.rb:96:in `process_request'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_request_handler.rb:516:in `accept_and_process_next_request'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_request_handler.rb:274:in `main_loop'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/rack/application_spawner.rb:206:in `start_request_handler'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/rack/application_spawner.rb:171:in `block in handle_spawn_application'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/utils.rb:470:in `safe_fork'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/rack/application_spawner.rb:166:in `handle_spawn_application'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server.rb:180:in `start'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/rack/application_spawner.rb:129:in `start'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/spawn_manager.rb:253:in `block (2 levels) in spawn_rack_application'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server_collection.rb:132:in `lookup_or_add'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/spawn_manager.rb:246:in `block in spawn_rack_application'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server_collection.rb:82:in `block in synchronize'
	<internal:prelude>:10:in `synchronize'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/spawn_manager.rb:244:in `spawn_rack_application'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/spawn_manager.rb:137:in `spawn_application'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/spawn_manager.rb:275:in `handle_spawn_application'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
	/Users/tom/.passenger/standalone/3.0.19-x86_64-ruby1.9.3-macosx-10.8/support/helper-scripts/passenger-spawn-server:99:in `<main>'
